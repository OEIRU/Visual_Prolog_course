# Отчет по вопросам по Prolog

## 1. Что такое Пролог-программа?
Пролог-программа представляет собой базу знаний, состоящую из предложений (фактов и правил). Каждое предложение имеет форму:
```
A :- B1, B2, ..., Bn.
```
где:
- `A` — голова правила (цель),
- `B1, B2, ..., Bn` — тело правила (подцели).

Если правило не содержит тела (`n = 0`), оно становится фактом:
```
A.
```
**Декларативный смысл**: Программа описывает отношения между объектами через логические утверждения. Выполнение программы заключается в доказательстве целей на основе этих утверждений.

---

## 2. Синтаксис и семантика Пролог-предложений

### Предикат
Предикат — это выражение вида:
```
pred(term1, term2, ..., termn)
```
где:
- `pred` — имя предиката (предикатный символ),
- `term1, term2, ..., termn` — термы.

### Терм
Терм может быть:
1. **Константа**:
   - Число: `42`, `-7.5`.
   - Атом: Начинается с маленькой буквы или заключен в кавычки. Например: `john`, `'New York'`.

2. **Переменная**:
   - Начинается с большой буквы или символа `_`. Например: `X`, `Name`, `_Temp`.

3. **Составной терм**:
```
func(term1, term2, ..., termn)
```
где:
- `func` — функциональный символ,
- `term1, term2, ..., termn` — аргументы.

### Декларативный смысл
Предикат задает отношение между объектами, задаваемыми термами. Например:
```
parent(john, mary).
```
означает, что Джон является родителем Мэри.

---

## 3. Типы предложений Пролога, их назначение и декларативный смысл

Пролог-программы состоят из трех типов предложений:

1. **Факты**:
   Описывают конкретные утверждения. Например:

```
parent(john, mary).
```

Декларативный смысл: Джон является родителем Мэри.

2. **Правила**:
Описывают общие зависимости. Например:
```
grandparent(X, Z) :- parent(X, Y), parent(Y, Z).

```
Декларативный смысл: X является бабушкой/дедушкой Z, если X является родителем Y, а Y является родителем Z.

3. **Запросы**:
Используются для проверки гипотез. Например:

```
?- parent(john, mary).
```
Вопрос: Является ли Джон родителем Мэри?

---

## 4. Переменная, ее роль и область действия в Пролог-программе

### Роль переменной
Переменная в Прологе используется для обозначения неопределенного объекта. Она служит для связывания значений при выполнении запросов.

### Синтаксис
Переменная должна начинаться с большой буквы или символа `_`. Например:
- `X`, `Name`, `_Temp`.

Анонимная переменная (`_`) используется, когда значение переменной несущественно.

### Область действия
Областью действия переменной является одно предложение (факт или правило). Например:
```
parent(X, Y) :- father(X, Y); mother(X, Y).
```
Здесь `X` и `Y` действуют только в рамках этого правила.

Два разных предложения могут использовать одну и ту же переменную разными способами.

---

## 5. Что является результатом работы Пролог-программы? Как он формируется?

Результат работы Пролог-программы — это ответ на запрос, который может быть:
1. **`yes`**: Если цель доказана.
2. **`no`**: Если цель не доказана.
3. **Набор решений**: Если запрос содержит переменные, Пролог выводит все возможные значения этих переменных.

### Процесс формирования результата
1. Пролог начинает поиск с первого факта или правила в программе.
2. Если найден факт, который унифицируется с целью, цель считается доказанной.
3. Если найдено правило, Пролог пытается доказать его тело, рекурсивно применяя те же шаги.
4. Если ни один факт или правило не подходит, цель считается недоказанной.

---

## 6. Структура программы в Turbo-Prologе (основные разделы)

Программа в Turbo-Prolog имеет следующую структуру:



```
domains /* ...объявление доменов ... /
predicates / ...объявление предикатов ... /
clauses / ...предложения (факты и правила) ... /
goal / ...запросы для выполнения ... */
```

### Разделы программы

1. **`domains`**:
   Объявление доменов (типов данных). Например:
```
domains
name = symbol
age = integer
```

2. **`predicates`**:
Объявление предикатов. Например:
```
predicates
parent(name, name)
lucky(name)
```

3. **`clauses`**:
Определение фактов и правил. Например:

```
clauses
parent(john, mary).
lucky(X) :- parent(X, _).
```


4. **`goal`**:
Запросы для выполнения. Например:
```
goal
lucky(john), write('John is lucky'), nl.
```


---

## 7. Согласование типов и преобразование типов в Turbo-Prologе

### Согласование типов
Turbo-Prolog поддерживает строгую типизацию через домены. Переменные должны соответствовать объявленным типам. Например:
```
domains
number = integer
person = symbol

predicates
add(number, number, number)
greet(person)

clauses
add(X, Y, Z) :- Z = X + Y.
greet(Name) :- write('Hello, '), write(Name), nl.
```


Если типы не совпадают, возникает ошибка компиляции.

### Преобразование типов
Turbo-Prolog автоматически преобразует некоторые типы при необходимости. Например:
- Конвертация строк в числа:
```
Number = "42", Integer = number_value(Number).
```
- Конвертация чисел в строки:
```
Number = 42, String = str(Number).
```

Однако явное преобразование часто требуется для сложных операций.

---

### Пример использования типов
```
domains
name = symbol
age = integer

predicates
person(name, age)
adult(name)

clauses
person(john, 30).
person(mary, 25).

adult(Name) :- person(Name, Age), Age >= 18.
goal
adult(john), write('John is an adult'), nl.
```
